# ADR-0015 — Versionamento e compatibilidade do IR

Status: Accepted  
Data: 2026-02-10

## Contexto
O IR (grafo) é o núcleo; mudanças quebram consumidores e auditoria histórica.

## Decisão
- Todo IR contém ir_version + schema_version + producer (tool/version/profile)
- Consumidores declaram versões suportadas
- Mudanças classificadas:
  - PATCH: campos opcionais
  - MINOR: novos nós/arestas compatíveis
  - MAJOR: breaking
- IR antigo nunca é reescrito (somente leitura)

## Consequências
- Auditorias reproduzíveis
- Evolução segura sem surpresa
- Base sólida para agent e server
